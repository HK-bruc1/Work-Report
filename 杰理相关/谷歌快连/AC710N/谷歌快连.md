# 替换谷歌账号专属的设备ID以及公钥，私钥

- 有对应的弹窗以及设备图片

`apps\common\third_party_profile\multi_protocol_main.c`

```c
static const uint8_t google_model_id_used[3] = {0x0C,0x0A,0x13};
static const char google_public_key_used[64] = 
{
    0x32,0x72,0x06,0x64,0xb6,0xd2,0x42,0xf6,0xb4,0xe3,0x6a,0x1d,0xe4,0xfb,0x7a,0x04,0x45,0x04,
    0x0b,0xcb,0x5e,0x04,0xf0,0x61,0xf5,0xed,0xca,0x8c,0x0b,0xea,0xb6,0x56,0xca,0x5e,0x6e,0xc9,
    0xe1,0xaa,0xd7,0xe8,0x8d,0xf2,0x54,0x1b,0x73,0x75,0x32,0xbd,0x55,0xc3,0x01,0xae,0x55,0xd9,
    0x88,0x92,0xaa,0x5d,0x15,0x02,0x2e,0xdb,0x98,0x66
};
static const char google_private_key_used[32] = 
{
    0x64,0x7f,0xda,0x03,0x1b,0xc5,0x36,0x25,0x2f,0xfc,0xda,0x0c,0xe4,0x64,0x17,0x52,0xeb,0xb5,0x19,
    0x05,0xf2,0x10,0xd7,0x9d,0x02,0xfe,0xfd,0xe8,0x0d,0x6e,0xc2,0x9e
};
```

## 客户给的

```c
Y1 v2.0 Google faast Pair keys

Model ID - 0x1741CF

Public Key -

biI5Y05R++N493ASeZWjxrNKVu8MKE0XAYvAJJp0jy6riC045duaEWweb0ULfIaHCsqDey2q3H96t0KOw6XHLQ==

Private Key - 

+vTtzK3WDwrOlJNSGr6kRg9mo/38kT5nTuAR7CWGFxA=
```

[Base64与十六进制互转 - 在线工具 (toolhelper.cn)](https://www.toolhelper.cn/EncodeDecode/Base64HexEncodeDecode)

- 只能保证可以弹窗，图片需要客户添加。

- 弹窗需要打开调试结果功能以及VPN环境

## 不要显示充电仓电量

```c
//重写弱函数，获取电量
void generate_rfcomm_battery_data(u8 *data)
{
#if 0
    if (gfps_bat_test_value == 100) {
        gfps_bat_test_value = 99;
        sys_timeout_add(NULL, gfps_battery_test_timeout, 30000);
    }
    data[0] = gfps_bat_test_value;
    data[1] = gfps_bat_test_value;
    data[2] = gfps_bat_test_value;
    return;
#endif

#if TCFG_USER_TWS_ENABLE
    u8 sibling_val = get_tws_sibling_bat_persent();
#else
    u8 sibling_val = 0xFF;
#endif
    u8 self_val = get_charge_online_flag() << 7 | get_vbat_percent();

    data[2] = 0xFF; //充电仓电量

#if TCFG_CHARGESTORE_ENABLE
    if (self_val >> 7 || sibling_val >> 7) { //有任意一直耳机充电时才显示充电仓电量
        data[2] = chargestore_get_power_level(); //充电仓电量
    }
#endif

    data[0] = (tws_api_get_local_channel() == 'L') ? self_val : sibling_val; //左耳电量
    data[1] = (tws_api_get_local_channel() == 'R') ? self_val : sibling_val; //右耳电量
    printf("%s, l:%x, r:%x, bat:%x", __func__, data[0], data[1], data[2]);
    //if (data[0] == 0xFF) {
    //  data[0] = 0;
    //}
    //if (data[1] == 0xFF) {
    //  data[1] = 0;
    //}

    //if (data[2] == 0xFF) {
    //  data[2] = 0;
    //}
}
```

## 谷歌快连查找设备失效



