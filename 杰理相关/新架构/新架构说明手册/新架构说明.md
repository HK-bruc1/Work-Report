# 结构说明

**各客户的配置文件使用文件夹集中和隔开：**

![image-20250719164124245](./新架构说明.assets/image-20250719164124245.png)

**各客户的功能差异在代码上暂时使用客户文件夹区分：**

![image-20250719164447713](./新架构说明.assets/image-20250719164447713.png)

**修改各客户功能时，请先使用`lazy`脚本将专属客户的配置文件copy到SDK正确目录中，以供可视化工具读取：**

​                                ![image-20250719164732452](./新架构说明.assets/image-20250719164732452.png) 

# 编译

## 选择编译的客户以及`key`

![image-20250719170207702](./新架构说明.assets/image-20250719170207702.png)

## 客户的其他配置

- 在各自客户文件夹中配置

![image-20250719170457571](./新架构说明.assets/image-20250719170457571.png)

![image-20250719170411091](./新架构说明.assets/image-20250719170411091.png)

## 编译方式选择

### 请使用`vscode`编译

![image-20250719170744396](./新架构说明.assets/image-20250719170744396.png)

### 直接使用脚本开启编译

![image-20250719170904774](./新架构说明.assets/image-20250719170904774.png)

# 可视化工具

**使用可视化工具修改配置后，请先导出配置文件。**

![image-20250719165317959](./新架构说明.assets/image-20250719165317959.png)

**一旦使用了可视化工具修改配置并导出后，请先使用`lazy`脚本将把配置copy到客户自己的文件夹，以便SDK编译时自动读取对应配置：**

![image-20250719165040790](./新架构说明.assets/image-20250719165040790.png)

# 出包

正式出包前，请先使用`git`提交。因为固件的校验码来自`git`提交后产生的哈希值。

![image-20250719165657533](./新架构说明.assets/image-20250719165657533.png)

## 存档

正式出包的固件，都放一个文件夹中，使用客户名称命名。存档包含**线烧和无线烧录**。

![image-20250719171225382](./新架构说明.assets/image-20250719171225382.png)

![image-20250719171458508](./新架构说明.assets/image-20250719171458508.png)

- **一旦领先当前提交后，除了撤销到指定版本是无法再次得到相同校验码的。**

## 校验码

- 如果分左右的话，一边提交一次。有独立的git的hash校验码。
- 最后为了保存两个包，需要再提交一次作为存档。

# 合EQ

可以导入三种格式，一般是bin文件：

![image-20250722154033006](./新架构说明.assets/image-20250722154033006.png)

选择要合的模块，一般是音乐EQ:
   						![image-20250722162515115](./新架构说明.assets/image-20250722162515115.png)	

点击导出配置，然后使用copy_customer脚本复制到客户文件夹中，编译即可。前提是SDK中已经是对应用户的配置了。

# 调通话存档

- 直接存录音文件
- 从工程中copy配置到客户文件夹中，把整个文件夹拖出去即可。
- 建立一个文件夹存档录音文件以及客户配置文件夹

# 2025-07-22

# 2025-07-31